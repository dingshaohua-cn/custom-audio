(function(e){function t(t){for(var r,o,a=t[0],i=t[1],l=t[2],f=0,d=[];f<a.length;f++)o=a[f],Object.prototype.hasOwnProperty.call(u,o)&&u[o]&&d.push(u[o][0]),u[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);s&&s(t);while(d.length)d.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,a=1;a<n.length;a++){var i=n[a];0!==u[i]&&(r=!1)}r&&(c.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},u={index:0},c=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],i=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var s=i;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("e35a")},"47c7":function(e,t,n){"use strict";n("e8b8")},"883c":function(e,t,n){"use strict";n("a698")},"972a":function(e,t,n){},a08c:function(e,t,n){"use strict";n("972a")},a698:function(e,t,n){},e35a:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),u={class:"app"},c={class:"box"},o={setup:function(e){var t={src:"https://dshvv-1300009960.cos.ap-beijing.myqcloud.com/aegis/xby.mp3"};return function(e,n){var o=Object(r["n"])("custom-audio");return Object(r["l"])(),Object(r["e"])("div",u,[Object(r["f"])("div",c,[Object(r["g"])(o,{src:t.src,downBlob:!0},null,8,["src"])])])}}};n("883c");const a=o;var i=a,l=n("5779"),s=n("5c40"),f=(n("a9e3"),{props:{duration:{type:Number},currentTime:{type:Number}},emits:["setCurrentTime"],setup:function(e,t){var n=t.emit,u=e,c=Object(r["m"])(null),o=Object(r["m"])(null),a=Object(r["m"])(0),i=Object(r["b"])((function(){if(c.value){var e=c.value.clientWidth,t=u.currentTime/u.duration*(e-o.value.offsetWidth);return isNaN(t)?0:t}return 0})),l=function(e,t){var r="h5"===e,i=null,l=t.target;t.clientX;i=r?t.targetTouches[0].pageX:t.clientX;var s=i-l.offsetLeft;document[r?"ontouchmove":"onmousemove"]=function(e){var i=r?e.targetTouches[0].pageX:e.clientX;a.value=i-s,a.value<0?a.value=0:a.value>c.value.offsetWidth-o.value.offsetWidth&&(a.value=c.value.offsetWidth-o.value.offsetWidth),t.target.style.left=a.value+"px";var l=a.value/(c.value.offsetWidth-o.value.offsetWidth)*u.duration;n("setCurrentTime",l),window.getSelection?window.getSelection().removeAllRanges():document.selection.empty()}},s=function(e){l("pc",e)},f=function(e){l("h5",e)};return Object(r["k"])((function(){document.onmouseup=function(){document.onmousemove=null},document.ontouchend=function(){document.ontouchmove=null}})),function(e,t){return Object(r["l"])(),Object(r["e"])("div",{class:"center-bar",ref_key:"centerBarRef",ref:c,onMouseenter:t[0]||(t[0]=function(){return e.onMouseenter&&e.onMouseenter.apply(e,arguments)}),onMouseleave:t[1]||(t[1]=function(){return e.onMouseleave&&e.onMouseleave.apply(e,arguments)})},[Object(r["f"])("div",{class:"center-bar-active",style:Object(r["j"])("width: ".concat(Object(r["p"])(i),"px"))},null,4),Object(r["f"])("div",{class:"play-point",ref_key:"playPointRef",ref:o,style:Object(r["j"])("left: ".concat(Object(r["p"])(i),"px")),onMousedown:s,onTouchstart:f},null,36)],544)}}}),d=(n("a08c"),n("6b0d")),p=n.n(d);const v=p()(f,[["__scopeId","data-v-65f4c77c"]]);var b=v,m=n("1da1"),j=(n("96cf"),n("ac1f"),n("1276"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),function(e){for(var t="",n=e.split(":"),r=0;r<n.length-1;r++)t+=1==n[r].length?"0"+n[r]:n[r],t+=":";return t+=1==n[r].length?"0"+n[r]:n[r],t}),O=function(e){var t="",n=parseInt(String(e/3600));e%=3600;var r=parseInt(String(e/60)),u=parseInt(String(e%60));return t=j(n>0?n+":"+r+":"+u:r+":"+u),t},h=function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,r,u,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.blob()}));case 2:n=e.sent,r=window.URL.createObjectURL(n),u=document.createElement("a"),u.style.display="none",u.target="_blank",u.href=r,u.setAttribute("download",""),c=document.querySelector(".custom-audio"),c.appendChild(u),u.click(),c.removeChild(u);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=document.createElement("a"),n.style.display="none",n.target="_blank",n.href=t,n.setAttribute("download",""),r=document.querySelector(".custom-audio"),r.appendChild(n),n.click(),r.removeChild(n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=["src"],w={class:"custom-audio"},k={class:"left-tools"},T={class:"time-status"},x={class:"right-tools"},S={props:{src:{type:String,required:!0},downBlob:{type:Boolean,default:!1}},setup:function(e){var t=e,n=Object(r["m"])(!1),u=Object(r["m"])(1),c=Object(r["m"])(null),o=Object(r["m"])(0),a=Object(r["m"])(0),i=Object(r["m"])("pause"),f=function(e){var t=e.target;o.value=t.duration},d=function(e){var t=e.target;a.value=t.currentTime},p=function(e){e.target;i.value="playing"},v=function(e){e.target;i.value="pause"},m=function(){i.value="pause"},j=function(e){c.value.currentTime=e},S=function(e){"refresh"===e?(i.value="pause",c.value.pause(),c.value.currentTime=0):"down"===e?t.downBlob?h(t.src):y(t.src):"speed"===e&&(4===u.value?u.value=1:u.value++,c.value.playbackRate=u.value)},C=function(e){c.value[e]()},_=function(e){var t=document.querySelector(".custom-audio"),r=t.contains(e.target);n.value=r},R=function(e){var t=e.key;n.value&&("ArrowLeft"===t?c.value.currentTime=c.value.currentTime-5:"ArrowRight"===t&&(c.value.currentTime=c.value.currentTime+5))};return Object(s["u"])((function(){window.addEventListener("keydown",R),window.addEventListener("click",_)})),Object(s["t"])((function(){try{window.removeEventListener(_),window.removeEventListener(R)}catch(e){}})),function(e,n){return Object(r["l"])(),Object(r["e"])(r["a"],null,[Object(r["f"])("audio",{src:t.src,ref_key:"audioRef",ref:c,onCanplay:f,onTimeupdate:d,onPlay:p,onPause:v,onEnded:m},null,40,g),Object(r["f"])("div",w,[Object(r["f"])("div",k,["pause"===i.value?(Object(r["l"])(),Object(r["d"])(Object(r["p"])(l["a"]),{key:0,icon:"ant-design:play-circle-filled",onClick:n[0]||(n[0]=function(e){return C("play")})})):(Object(r["l"])(),Object(r["d"])(Object(r["p"])(l["a"]),{key:1,icon:"ant-design:pause-circle-filled",onClick:n[1]||(n[1]=function(e){return C("pause")})})),Object(r["f"])("div",T,Object(r["o"])(Object(r["p"])(O)(a.value))+" / "+Object(r["o"])(Object(r["p"])(O)(o.value)),1)]),Object(r["g"])(b,{duration:o.value,"current-time":a.value,onSetCurrentTime:j},null,8,["duration","current-time"]),Object(r["f"])("div",x,[Object(r["g"])(Object(r["p"])(l["a"]),{icon:"fontisto:spinner-refresh",onClick:n[2]||(n[2]=function(e){return S("refresh")})}),Object(r["g"])(Object(r["p"])(l["a"]),{icon:"entypo:download",onClick:n[3]||(n[3]=function(e){return S("down")})}),Object(r["f"])("span",{onClick:n[4]||(n[4]=function(e){return S("speed")})},Object(r["o"])(u.value)+"x",1)])])],64)}}};n("47c7");const C=S;var _=C;_.install=function(e){e.component("custom-audio",_)};var R=_;Object(r["c"])(i).use(R).mount("#app")},e8b8:function(e,t,n){}});
//# sourceMappingURL=index.17a0a20c.js.map