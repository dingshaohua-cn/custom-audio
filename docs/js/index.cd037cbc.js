(function(e){function t(t){for(var o,u,a=t[0],i=t[1],s=t[2],d=0,f=[];d<a.length;d++)u=a[d],Object.prototype.hasOwnProperty.call(r,u)&&r[u]&&f.push(r[u][0]),r[u]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);l&&l(t);while(f.length)f.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,a=1;a<n.length;a++){var i=n[a];0!==r[i]&&(o=!1)}o&&(c.splice(t--,1),e=u(u.s=n[0]))}return e}var o={},r={index:0},c=[];function u(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=e,u.c=o,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)u.d(n,o,function(t){return e[t]}.bind(null,o));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/docs/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],i=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var l=i;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("e35a")},"02fa":function(e,t,n){var o=n("8d51");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var r=n("499e").default;r("442158e0",o,!0,{sourceMap:!1,shadowMode:!1})},"47c7":function(e,t,n){"use strict";n("a65b")},6756:function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,".custom-audio[data-v-65f4c77c]{min-width:300px;display:flex;align-items:center;background-color:#f1f3f4;height:40px;padding:0 10px}.custom-audio .tools[data-v-65f4c77c]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex;align-items:center;font-size:16px}.custom-audio .tools *[data-v-65f4c77c]{cursor:pointer}.custom-audio .left-tools[data-v-65f4c77c]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex;align-items:center;font-size:16px}.custom-audio .left-tools *[data-v-65f4c77c]{cursor:pointer}.custom-audio .left-tools .time-status[data-v-65f4c77c]{font-size:14px}.custom-audio .left-tools *[data-v-65f4c77c]{margin-left:6px}.custom-audio .center-bar[data-v-65f4c77c]{border-radius:20px;flex:1;margin:0 10px;background-color:#c1c2c3;height:4px;position:relative}.custom-audio .center-bar .center-bar-active[data-v-65f4c77c]{border-radius:20px;position:absolute;top:0;background-color:#000;height:4px}.custom-audio .center-bar .play-point[data-v-65f4c77c]{position:absolute;top:-4px;background-color:#000;width:12px;height:12px;border-radius:50%;cursor:pointer;z-index:2}.custom-audio .right-tools[data-v-65f4c77c]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex;align-items:center;font-size:16px;justify-content:flex-end}.custom-audio .right-tools *[data-v-65f4c77c]{cursor:pointer;margin-right:6px}",""]),e.exports=t},"883c":function(e,t,n){"use strict";n("02fa")},"8d51":function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,"body,html{margin:0;padding:0;background-color:pink}.app{padding-top:100px}.app .box{width:80%}",""]),e.exports=t},a08c:function(e,t,n){"use strict";n("bfaa")},a65b:function(e,t,n){var o=n("a671");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var r=n("499e").default;r("f18189dc",o,!0,{sourceMap:!1,shadowMode:!1})},a671:function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,".custom-audio{min-width:300px;display:flex;align-items:center;background-color:#f1f3f4;height:40px;padding:0 10px}.custom-audio .tools{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex;align-items:center;font-size:16px}.custom-audio .tools *{cursor:pointer}.custom-audio .left-tools{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex;align-items:center;font-size:16px}.custom-audio .left-tools *{cursor:pointer}.custom-audio .left-tools .time-status{font-size:14px}.custom-audio .left-tools *{margin-left:6px}.custom-audio .center-bar{border-radius:20px;flex:1;margin:0 10px;background-color:#c1c2c3;height:4px;position:relative}.custom-audio .center-bar .center-bar-active{border-radius:20px;position:absolute;top:0;background-color:#000;height:4px}.custom-audio .center-bar .play-point{position:absolute;top:-4px;background-color:#000;width:12px;height:12px;border-radius:50%;cursor:pointer;z-index:2}.custom-audio .right-tools{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex;align-items:center;font-size:16px;justify-content:flex-end}.custom-audio .right-tools *{cursor:pointer;margin-right:6px}",""]),e.exports=t},bfaa:function(e,t,n){var o=n("6756");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var r=n("499e").default;r("512aa482",o,!0,{sourceMap:!1,shadowMode:!1})},e35a:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),r={class:"app"},c={class:"box"},u={setup:function(e){var t={src:"https://dshvv-1300009960.cos.ap-beijing.myqcloud.com/aegis/xby.mp3"};return function(e,n){var u=Object(o["n"])("custom-audio");return Object(o["l"])(),Object(o["e"])("div",r,[Object(o["f"])("div",c,[Object(o["g"])(u,{src:t.src,downBlob:!0},null,8,["src"])])])}}};n("883c");const a=u;var i=a,s=n("5779"),l=n("5c40"),d=(n("a9e3"),{props:{duration:{type:Number},currentTime:{type:Number}},emits:["setCurrentTime"],setup:function(e,t){var n=t.emit,r=e,c=Object(o["m"])(null),u=Object(o["m"])(null),a=Object(o["m"])(0),i=Object(o["b"])((function(){if(c.value){var e=c.value.clientWidth,t=r.currentTime/r.duration*(e-u.value.offsetWidth);return isNaN(t)?0:t}return 0})),s=function(e,t){var o="h5"===e,i=null,s=t.target;t.clientX;i=o?t.targetTouches[0].pageX:t.clientX;var l=i-s.offsetLeft;document[o?"ontouchmove":"onmousemove"]=function(e){var i=o?e.targetTouches[0].pageX:e.clientX;a.value=i-l,a.value<0?a.value=0:a.value>c.value.offsetWidth-u.value.offsetWidth&&(a.value=c.value.offsetWidth-u.value.offsetWidth),t.target.style.left=a.value+"px";var s=a.value/(c.value.offsetWidth-u.value.offsetWidth)*r.duration;n("setCurrentTime",s),window.getSelection?window.getSelection().removeAllRanges():document.selection.empty()}},l=function(e){s("pc",e)},d=function(e){s("h5",e)};return Object(o["k"])((function(){document.onmouseup=function(){document.onmousemove=null},document.ontouchend=function(){document.ontouchmove=null}})),function(e,t){return Object(o["l"])(),Object(o["e"])("div",{class:"center-bar",ref_key:"centerBarRef",ref:c,onMouseenter:t[0]||(t[0]=function(){return e.onMouseenter&&e.onMouseenter.apply(e,arguments)}),onMouseleave:t[1]||(t[1]=function(){return e.onMouseleave&&e.onMouseleave.apply(e,arguments)})},[Object(o["f"])("div",{class:"center-bar-active",style:Object(o["j"])("width: ".concat(Object(o["p"])(i),"px"))},null,4),Object(o["f"])("div",{class:"play-point",ref_key:"playPointRef",ref:u,style:Object(o["j"])("left: ".concat(Object(o["p"])(i),"px")),onMousedown:l,onTouchstart:d},null,36)],544)}}}),f=(n("a08c"),n("6b0d")),p=n.n(f);const v=p()(d,[["__scopeId","data-v-65f4c77c"]]);var b=v,m=n("1da1"),g=(n("96cf"),n("ac1f"),n("1276"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),function(e){for(var t="",n=e.split(":"),o=0;o<n.length-1;o++)t+=1==n[o].length?"0"+n[o]:n[o],t+=":";return t+=1==n[o].length?"0"+n[o]:n[o],t}),h=function(e){var t="",n=parseInt(String(e/3600));e%=3600;var o=parseInt(String(e/60)),r=parseInt(String(e%60));return t=g(n>0?n+":"+o+":"+r:o+":"+r),t},x=function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,o,r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.blob()}));case 2:n=e.sent,o=window.URL.createObjectURL(n),r=document.createElement("a"),r.style.display="none",r.target="_blank",r.href=o,r.setAttribute("download",""),c=document.querySelector(".custom-audio"),c.appendChild(r),r.click(),c.removeChild(r);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=document.createElement("a"),n.style.display="none",n.target="_blank",n.href=t,n.setAttribute("download",""),o=document.querySelector(".custom-audio"),o.appendChild(n),n.click(),o.removeChild(n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=["src"],O={class:"custom-audio"},w={class:"left-tools"},k={class:"time-status"},M={class:"right-tools"},_={props:{src:{type:String,required:!0},downBlob:{type:Boolean,default:!1}},setup:function(e){var t=e,n=Object(o["m"])(!1),r=Object(o["m"])(1),c=Object(o["m"])(null),u=Object(o["m"])(0),a=Object(o["m"])(0),i=Object(o["m"])("pause"),d=function(e){var t=e.target;u.value=t.duration},f=function(e){var t=e.target;a.value=t.currentTime},p=function(e){e.target;i.value="playing"},v=function(e){e.target;i.value="pause"},m=function(){i.value="pause"},g=function(e){c.value.currentTime=e},_=function(e){"refresh"===e?(i.value="pause",c.value.pause(),c.value.currentTime=0):"down"===e?t.downBlob?x(t.src):y(t.src):"speed"===e&&(4===r.value?r.value=1:r.value++,c.value.playbackRate=r.value)},T=function(e){c.value[e]()},z=function(e){var t=document.querySelector(".custom-audio"),o=t.contains(e.target);n.value=o},S=function(e){var t=e.key;n.value&&("ArrowLeft"===t?c.value.currentTime=c.value.currentTime-5:"ArrowRight"===t&&(c.value.currentTime=c.value.currentTime+5))};return Object(l["u"])((function(){window.addEventListener("keydown",S),window.addEventListener("click",z)})),Object(l["t"])((function(){try{window.removeEventListener(z),window.removeEventListener(S)}catch(e){}})),function(e,n){return Object(o["l"])(),Object(o["e"])(o["a"],null,[Object(o["f"])("audio",{src:t.src,ref_key:"audioRef",ref:c,onCanplay:d,onTimeupdate:f,onPlay:p,onPause:v,onEnded:m},null,40,j),Object(o["f"])("div",O,[Object(o["f"])("div",w,["pause"===i.value?(Object(o["l"])(),Object(o["d"])(Object(o["p"])(s["a"]),{key:0,icon:"ant-design:play-circle-filled",onClick:n[0]||(n[0]=function(e){return T("play")})})):(Object(o["l"])(),Object(o["d"])(Object(o["p"])(s["a"]),{key:1,icon:"ant-design:pause-circle-filled",onClick:n[1]||(n[1]=function(e){return T("pause")})})),Object(o["f"])("div",k,Object(o["o"])(Object(o["p"])(h)(a.value))+" / "+Object(o["o"])(Object(o["p"])(h)(u.value)),1)]),Object(o["g"])(b,{duration:u.value,"current-time":a.value,onSetCurrentTime:g},null,8,["duration","current-time"]),Object(o["f"])("div",M,[Object(o["g"])(Object(o["p"])(s["a"]),{icon:"fontisto:spinner-refresh",onClick:n[2]||(n[2]=function(e){return _("refresh")})}),Object(o["g"])(Object(o["p"])(s["a"]),{icon:"entypo:download",onClick:n[3]||(n[3]=function(e){return _("down")})}),Object(o["f"])("span",{onClick:n[4]||(n[4]=function(e){return _("speed")})},Object(o["o"])(r.value)+"x",1)])])],64)}}};n("47c7");const T=_;var z=T;z.install=function(e){e.component("custom-audio",z)};var S=z;Object(o["c"])(i).use(S).mount("#app")}});
//# sourceMappingURL=index.cd037cbc.js.map